(this["webpackJsonptwilio-video-app-react"]=this["webpackJsonptwilio-video-app-react"]||[]).push([[0],{165:function(e){e.exports=JSON.parse('{"a":"0.2.0"}')},171:function(e,t,n){e.exports=n.p+"static/media/download1.5fd81803.png"},193:function(e,t,n){e.exports=n(312)},312:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),i=n.n(o),c=n(371),l=n(370),s=n(7),u=n(378),d=n(350),m=n(377),f=n(353),p=n(3),v=n(4),b=Object(a.createContext)(null);function h(){var e=Object(a.useContext)(b),t=Object(v.a)(e,2);return[t[0],t[1]]}function E(e){var t=e.room,n=e.children,o=Object(a.useState)(null),i=Object(v.a)(o,2),c=i[0],l=i[1];return Object(a.useEffect)((function(){var e=function(){return l(null)};return t.on("disconnected",e),function(){t.off("disconnected",e)}}),[t]),r.a.createElement(b.Provider,{value:[c,function(e){return l((function(t){return t===e?null:e}))}]},n)}var g=n(160),O=n.n(g),w="undefined"!==typeof navigator&&"string"===typeof navigator.userAgent&&/Mobile/.test(navigator.userAgent);function S(){var e=I(),t=e.room.localParticipant,n=e.localTracks,r=e.getLocalVideoTrack,o=e.removeLocalVideoTrack,i=e.onError,c=n.find((function(e){return e.name.includes("camera")})),l=Object(a.useState)(!1),s=Object(v.a)(l,2),u=s[0],d=s[1],m=Object(a.useRef)(),f=Object(a.useCallback)((function(){if(!u)if(c){m.current=c.mediaStreamTrack.getSettings().deviceId;var e=null===t||void 0===t?void 0:t.unpublishTrack(c);null===t||void 0===t||t.emit("trackUnpublished",e),o()}else d(!0),r({deviceId:{exact:m.current}}).then((function(e){return null===t||void 0===t?void 0:t.publishTrack(e,{priority:"low"})})).catch(i).finally((function(){return d(!1)}))}),[c,t,r,u,i,o]);return[!!c,f]}function C(){var e=I().room,t=S(),n=Object(v.a)(t,2),r=n[0],o=n[1],i=Object(a.useRef)(!1);return Object(a.useEffect)((function(){if(w){var e=function(){"hidden"===document.visibilityState&&r?(i.current=!0,o()):i.current&&(i.current=!1,o())};return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}}}),[r,e,o]),null}var j=n(14),k={width:1280,height:720,frameRate:24},x=n(23),y=n.n(x);function T(){var e=Object(a.useState)([]),t=Object(v.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){var e=function(){return navigator.mediaDevices.enumerateDevices().then((function(e){return r(e)}))};return navigator.mediaDevices.addEventListener("devicechange",e),e(),function(){navigator.mediaDevices.removeEventListener("devicechange",e)}}),[]),n}function _(){return T().filter((function(e){return"audioinput"===e.kind}))}function P(){return T().filter((function(e){return"videoinput"===e.kind}))}function A(){return _().length>0}function L(){return P().length>0}var N=n(17),R=n.n(N);window.TwilioVideo=y.a;var D=Object(a.createContext)(null);function B(e){var t=e.options,n=e.children,o=e.onError,i=void 0===o?function(){}:o,c=e.onDisconnect,l=void 0===c?function(){}:c,s=function(e){console.log("ERROR: ".concat(e.message),e),i(e)},u=function(){var e=Object(a.useState)(),t=Object(v.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(),i=Object(v.a)(o,2),c=i[0],l=i[1],s=Object(a.useState)(!1),u=Object(v.a)(s,2),d=u[0],m=u[1],f=A(),p=L(),b=Object(a.useCallback)((function(e){var t={};return e&&(t.deviceId={exact:e}),y.a.createLocalAudioTrack(t).then((function(e){return r(e),e}))}),[]),h=Object(a.useCallback)((function(e){var t=Object(j.a)(Object(j.a)({},k),{},{name:"camera-".concat(Date.now())},e);return y.a.createLocalVideoTrack(t).then((function(e){return l(e),e}))}),[]),E=Object(a.useCallback)((function(){c&&(c.stop(),l(void 0))}),[c]),g=Object(a.useCallback)((function(){return f||p?n||c?Promise.resolve():(m(!0),y.a.createLocalTracks({video:p&&Object(j.a)(Object(j.a)({},k),{},{name:"camera-".concat(Date.now())}),audio:f}).then((function(e){var t=e.find((function(e){return e.kind===localStorage.getItem("Track")})),n=e.find((function(e){return"audio"===e.kind}));t&&l(t),n&&r(n)})).finally((function(){return m(!1)}))):Promise.resolve()}),[f,p,n,c]);return{localTracks:[n,c].filter((function(e){return void 0!==e})),getLocalVideoTrack:h,getLocalAudioTrack:b,isAcquiringLocalTracks:d,removeLocalVideoTrack:E,getAudioAndVideoTracks:g}}(),d=u.localTracks,m=u.getLocalVideoTrack,f=u.getLocalAudioTrack,p=u.isAcquiringLocalTracks,b=u.removeLocalVideoTrack,h=u.getAudioAndVideoTracks,g=function(e,t,n){var r=Object(a.useState)(new R.a),o=Object(v.a)(r,2),i=o[0],c=o[1],l=Object(a.useState)(!1),s=Object(v.a)(l,2),u=s[0],d=s[1],m=Object(a.useRef)(n);return Object(a.useEffect)((function(){m.current=n}),[n]),{room:i,isConnecting:u,connect:Object(a.useCallback)((function(n){return d(!0),y.a.connect(n,Object(j.a)(Object(j.a)({},m.current),{},{tracks:e})).then((function(e){c(e);var t=function(){return e.disconnect()};e.setMaxListeners(15),e.once("disconnected",(function(){setTimeout((function(){return c(new R.a)})),window.removeEventListener("beforeunload",t),w&&window.removeEventListener("pagehide",t)})),window.twilioRoom=e,e.localParticipant.videoTracks.forEach((function(e){return e.setPriority("low")})),d(!1),window.addEventListener("beforeunload",t),w&&window.addEventListener("pagehide",t)}),(function(e){t(e),d(!1)}))}),[e,t])}}(d,s,t),O=g.room,S=g.isConnecting,x=g.connect;!function(e,t){Object(a.useEffect)((function(){var n=function(e,n){n&&t(n)};return e.on("disconnected",n),function(){e.off("disconnected",n)}}),[e,t])}(O,i),function(e,t){var n=e.localParticipant;Object(a.useEffect)((function(){if(n)return n.on("trackPublicationFailed",t),function(){n.off("trackPublicationFailed",t)}}),[n,t])}(O,i),function(e,t){Object(a.useEffect)((function(){return e.on("disconnected",t),function(){e.off("disconnected",t)}}),[e,t])}(O,l);var T=function(e,t){var n=Object(a.useState)(!1),r=Object(v.a)(n,2),o=r[0],i=r[1],c=Object(a.useRef)(null),l=Object(a.useCallback)((function(){navigator.mediaDevices.getDisplayMedia({audio:!1,video:{frameRate:10,height:1080,width:1920}}).then((function(n){var a=n.getTracks()[0];e.localParticipant.publishTrack(a,{name:"screen",priority:"low"}).then((function(t){c.current=function(){e.localParticipant.unpublishTrack(a),e.localParticipant.emit("trackUnpublished",t),a.stop(),i(!1)},a.onended=c.current,i(!0)})).catch(t)})).catch((function(e){"AbortError"!==e.name&&"NotAllowedError"!==e.name&&t(e)}))}),[e,t]),s=Object(a.useCallback)((function(){o?c.current():l()}),[o,l,c]);return[o,s]}(O,i),_=Object(v.a)(T,2),P=_[0],N=_[1];return r.a.createElement(D.Provider,{value:{room:O,localTracks:d,isConnecting:S,onError:s,onDisconnect:l,getLocalVideoTrack:m,getLocalAudioTrack:f,connect:x,isAcquiringLocalTracks:p,removeLocalVideoTrack:b,isSharingScreen:P,toggleScreenShare:N,getAudioAndVideoTracks:h}},r.a.createElement(E,{room:O},n),r.a.createElement(C,null))}function I(){var e=Object(a.useContext)(D);if(!e)throw new Error("useVideoContext must be used within a VideoProvider");return e}var M=Object(d.a)((function(e){return Object(m.a)({button:{background:e.brand,color:"white","&:hover":{background:"#600101"}}})}));function H(e){var t=M(),n=I().room;return r.a.createElement(f.a,{onClick:function(){return n.disconnect()},className:Object(p.a)(t.button,e.className),"data-cy-disconnect":!0},"Disconnect")}function V(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24"},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("g",{fill:"#707578"},r.a.createElement("path",{d:"M12 3.5c4.694 0 8.5 3.806 8.5 8.5s-3.806 8.5-8.5 8.5-8.5-3.806-8.5-8.5S7.306 3.5 12 3.5zm0 1c-4.142 0-7.5 3.358-7.5 7.5 0 4.142 3.358 7.5 7.5 7.5 4.142 0 7.5-3.358 7.5-7.5 0-4.142-3.358-7.5-7.5-7.5zm1.367 3.429C14.959 8.492 16.1 10.215 16.1 12c0 1.16-.481 2.294-1.256 3.1h.356c.245 0 .45.177.492.41l.008.09c0 .245-.177.45-.41.492l-.09.008h-2.008l-.048-.003-.034-.005c-.088-.017-.167-.055-.233-.11l-.06-.06c-.037-.044-.067-.096-.087-.151l-.001-.004-.012-.04c-.004-.012-.007-.024-.009-.037v-.005c-.005-.024-.006-.042-.007-.06L12.7 13.6c0-.276.224-.5.5-.5.245 0 .45.177.492.41l.008.09v1.176c.833-.6 1.4-1.676 1.4-2.776 0-1.373-.886-2.71-2.067-3.129-.26-.092-.396-.377-.304-.638.092-.26.378-.396.638-.304zm-2.559-.03c.03.001.058.004.086.01l.062.016.018.006c.04.015.075.034.108.056.086.059.152.143.188.242l.001.004.008.025c.006.017.01.034.013.052l.008.09v2c0 .276-.224.5-.5.5-.245 0-.45-.177-.492-.41l-.008-.09V9.224c-.833.6-1.4 1.676-1.4 2.776 0 1.373.886 2.71 2.067 3.129.26.092.396.377.304.638-.092.26-.378.396-.638.304C9.041 15.508 7.9 13.785 7.9 12c0-1.16.481-2.294 1.255-3.1H8.8c-.245 0-.45-.177-.492-.41L8.3 8.4c0-.245.177-.45.41-.492L8.8 7.9h2.008z",transform:"translate(-233 -689) translate(-1 673) translate(37 16) translate(197.298)"}))))}function W(e){var t=Object(a.useState)(null===e||void 0===e?void 0:e.mediaStreamTrack),n=Object(v.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){if(o(null===e||void 0===e?void 0:e.mediaStreamTrack),e){var t=function(){return o(e.mediaStreamTrack)};return e.on("started",t),function(){e.off("started",t)}}}),[e]),r}function z(){var e=I().localTracks,t=Object(a.useState)(null),n=Object(v.a)(t,2),o=n[0],i=n[1],c=e.find((function(e){return e.name.includes("camera")})),l=W(c),s=P();Object(a.useEffect)((function(){(null===l||void 0===l?void 0:l.getSettings().facingMode)&&null===o&&i(!0)}),[l,o]);var u=Object(a.useCallback)((function(){var e="user"===(null===l||void 0===l?void 0:l.getSettings().facingMode)?"environment":"user";c.restart(Object(j.a)(Object(j.a)({},k),{},{facingMode:e}))}),[l,c]);return o&&s.length>1?r.a.createElement(f.a,{onClick:u,disabled:!c,startIcon:r.a.createElement(V,null)},"Flip Camera"):null}var U=n(375),K=n(360),F=n(358),G=n(359),Y=n(356),q=n(357),Z=n(165),J=n(36),Q=n.n(J),X=n(52),$={trackSwitchOffMode:void 0,dominantSpeakerPriority:"standard",bandwidthProfileMode:"collaboration",maxTracks:w?"5":"10",maxAudioBitrate:"16000",renderDimensionLow:"low",renderDimensionStandard:"960p",renderDimensionHigh:"wide1080p"};!function(){var e={};for(var t in $)e[t]=t}();function ee(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(s.a)({},t.name,"default"===t.value?void 0:t.value))}var te=n(67),ne=(n(308),{apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_FIREBASE_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_FIREBASE_AUTH_DOMAIN,databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_FIREBASE_DATABASE_URL,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_FIREBASE_MESSAGING_SENDER_ID});var ae=n(19);function re(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return fetch("/token",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({user_identity:e,room_name:t,passcode:n,create_room:a})})}function oe(e){return re("temp-name","temp-room",e,!1).then(function(){var e=Object(X.a)(Q.a.mark((function e(t){var n,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,401!==t.status){e.next=5;break}return e.abrupt("return",{isValid:!1,error:null===(a=n.error)||void 0===a?void 0:a.message});case 5:if(!t.ok||!n.token){e.next=7;break}return e.abrupt("return",{isValid:!0});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function ie(e){switch(e){case"passcode incorrect":return"Passcode is incorrect";case"passcode expired":return"Passcode has expired";default:return e}}function ce(){var e=Object(ae.g)(),t=Object(a.useState)(null),n=Object(v.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)(!1),c=Object(v.a)(i,2),l=c[0],s=c[1],u=Object(a.useState)(),d=Object(v.a)(u,2),m=d[0],f=d[1],p=Object(a.useCallback)((function(e,t){return re(e,t,r.passcode).then(function(){var e=Object(X.a)(Q.a.mark((function e(t){var n,a,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,t.json();case 4:throw a=e.sent,r=ie((null===(n=a.error)||void 0===n?void 0:n.message)||t.statusText),Error(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){return e.json()})).then((function(e){return f(e.room_type),e.token}))}),[r]);Object(a.useEffect)((function(){var t=function(){var e=window.location.search.match(/passcode=(.*)&?/);return e?e[1]:window.sessionStorage.getItem("passcode")}();t?oe(t).then((function(n){(null===n||void 0===n?void 0:n.isValid)&&(o({passcode:t}),window.sessionStorage.setItem("passcode",t),e.replace(window.location.pathname))})).then((function(){return s(!0)})):s(!0)}),[e]);var b=Object(a.useCallback)((function(e){return oe(e).then((function(t){if(!(null===t||void 0===t?void 0:t.isValid))throw new Error(ie(null===t||void 0===t?void 0:t.error));o({passcode:e}),window.sessionStorage.setItem("passcode",e)}))}),[]),h=Object(a.useCallback)((function(){return o(null),window.sessionStorage.removeItem("passcode"),Promise.resolve()}),[]);return{user:r,isAuthReady:l,getToken:p,signIn:b,signOut:h,roomType:m}}var le=Object(a.createContext)(null);function se(e){var t=Object(a.useState)(null),n=Object(v.a)(t,2),o=n[0],i=n[1],c=Object(a.useState)(!1),l=Object(v.a)(c,2),s=l[0],u=l[1],d=Object(a.useState)("default"),m=Object(v.a)(d,2),f=m[0],p=m[1],b=Object(a.useReducer)(ee,$),h=Object(v.a)(b,2),E=h[0],g=h[1],O={error:o,setError:i,isFetching:s,activeSinkId:f,setActiveSinkId:p,settings:E,dispatchSetting:g};O="firebase"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SET_AUTH?Object(j.a)(Object(j.a)({},O),function(){var e=Object(a.useState)(null),t=Object(v.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(!1),i=Object(v.a)(o,2),c=i[0],l=i[1],s=Object(a.useCallback)(function(){var e=Object(X.a)(Q.a.mark((function e(t,a){var r,o,i,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new window.Headers,e.next=3,n.getIdToken();case 3:return o=e.sent,r.set("Authorization",o),i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_TOKEN_ENDPOINT||"/token",c=new window.URLSearchParams({identity:t,roomName:a}),e.abrupt("return",fetch("".concat(i,"?").concat(c),{headers:r}).then((function(e){return e.text()})));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n]);Object(a.useEffect)((function(){te.initializeApp(ne),te.auth().onAuthStateChanged((function(e){r(e),l(!0)}))}),[]);var u=Object(a.useCallback)((function(){var e=new te.auth.GoogleAuthProvider;return e.addScope("https://www.googleapis.com/auth/plus.login"),te.auth().signInWithPopup(e).then((function(e){r(e.user)}))}),[]),d=Object(a.useCallback)((function(){return te.auth().signOut().then((function(){r(null)}))}),[]);return{user:n,signIn:u,signOut:d,isAuthReady:c,getToken:s}}()):"passcode"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SET_AUTH?Object(j.a)(Object(j.a)({},O),ce()):Object(j.a)(Object(j.a)({},O),{},{getToken:function(){var e=Object(X.a)(Q.a.mark((function e(t,n){var a,r,o;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new window.Headers,r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_TOKEN_ENDPOINT||"/token",o=new window.URLSearchParams({identity:t,roomName:n}),e.abrupt("return",fetch("".concat(r,"?").concat(o),{headers:a}).then((function(e){return e.text()})));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()});return r.a.createElement(le.Provider,{value:Object(j.a)(Object(j.a)({},O),{},{getToken:function(e,t){return u(!0),O.getToken(e,t).then((function(e){return u(!1),e})).catch((function(e){return i(e),u(!1),Promise.reject(e)}))}})},e.children)}function ue(){var e=Object(a.useContext)(le);if(!e)throw new Error("useAppState must be used within the AppStateProvider");return e}var de=function(e){var t=e.open,n=e.onClose,a=ue().roomType;return r.a.createElement(U.a,{open:t,onClose:n,fullWidth:!0,maxWidth:"xs"},r.a.createElement(Y.a,null,"About"),r.a.createElement(q.a,null),r.a.createElement(F.a,null,r.a.createElement(G.a,null,"Browser supported: ",String(y.a.isSupported)),r.a.createElement(G.a,null,"SDK Version: ",y.a.version),r.a.createElement(G.a,null,"App Version: ",Z.a),r.a.createElement(G.a,null,"Deployed Tag: ",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_GIT_TAG||"N/A"),r.a.createElement(G.a,null,"Deployed Commit Hash: ",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_GIT_COMMIT||"N/A"),a&&r.a.createElement(G.a,null,"Room Type: ",a)),r.a.createElement(q.a,null),r.a.createElement(K.a,null,r.a.createElement(f.a,{onClick:n,color:"primary",variant:"contained",autoFocus:!0},"OK")))},me=n(385);function fe(e){var t=Object(a.useState)(!!e&&e.isEnabled),n=Object(v.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){if(o(!!e&&e.isEnabled),e){var t=function(){return o(!0)},n=function(){return o(!1)};return e.on("enabled",t),e.on("disabled",n),function(){e.off("enabled",t),e.off("disabled",n)}}}),[e]),r}var pe,ve=0,be=window.AudioContext||window.webkitAudioContext;function he(e){var t=(pe=pe||new be).createMediaStreamSource(e),n=pe.createAnalyser();return n.smoothingTimeConstant=.2,n.fftSize=256,t.connect(n),n}var Ee=r.a.memo((function(e){var t=e.audioTrack,n=e.color,o=void 0===n?"white":n,i=Object(a.useRef)(null),c=Object(a.useState)(),l=Object(v.a)(c,2),s=l[0],u=l[1],d=fe(t),m=W(t);Object(a.useEffect)((function(){if(t&&m&&d){var e=new MediaStream([m.clone()]),n=function(){return e.getTracks().forEach((function(e){return e.stop()}))};t.on("stopped",n);var a=function(){n(),e=new MediaStream([m.clone()]),u(he(e))};return u(he(e)),window.addEventListener("focus",a),function(){n(),window.removeEventListener("focus",a),t.off("stopped",n)}}}),[d,m,t]),Object(a.useEffect)((function(){var e=i.current;if(d&&e&&s){var t=new Uint8Array(s.frequencyBinCount),n=Object(me.a)((function(){s.getByteFrequencyData(t);for(var n=0,a=t.length,r=0;r<a;r++)n+=t[r];var o=Math.min(14,Math.max(0,7*Math.log10(n/a/3)));null===e||void 0===e||e.setAttribute("y",String(14-o))}),100);return function(){e.setAttribute("y","14"),n.stop()}}}),[d,s]);var f="audio-level-clip-".concat(ve++);return d?r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-test-audio-indicator":!0},r.a.createElement("defs",null,r.a.createElement("clipPath",{id:f},r.a.createElement("rect",{ref:i,x:"0",y:"14",width:"24",height:"24"}))),r.a.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(.5)"},r.a.createElement("rect",{clipPath:"url(#".concat(f,")"),width:"5.2",height:"10",x:"9.5",y:"3.5",rx:"6",ry:"3",fill:"#23BF6E"}),r.a.createElement("path",{fill:o,strokeWidth:"0",d:"M17.389 10.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V17.09C8.395 16.836 6 14.281 6 11.167c0-.276.224-.5.5-.5s.5.224.5.5c0 2.73 2.214 4.944 4.944 4.944 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM11.944 4c1.566 0 2.834 1.268 2.834 2.833v4.334c0 1.564-1.268 2.833-2.834 2.833-1.564 0-2.833-1.27-2.833-2.833V6.833C9.111 5.268 10.38 4 11.944 4zm0 1c-1.012 0-1.833.82-1.833 1.833v4.334c0 1.012.822 1.833 1.833 1.833 1.013 0 1.834-.82 1.834-1.833V6.833c0-1.013-.82-1.833-1.834-1.833z"}))):r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",transform:"translate(-0.5, 0)","data-test-audio-mute-icon":!0},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{fill:o,strokeWidth:"0",d:"M11.889 6.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V13.09c-1.116-.093-2.145-.494-3-1.119l.717-.717c.793.54 1.751.857 2.783.857 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM1 6.667c.276 0 .5.224.5.5 0 .975.282 1.884.77 2.65l-.722.721C.888 9.58.5 8.418.5 7.167c0-.276.224-.5.5-.5zm8.277-1.031v1.53C9.278 8.732 8.01 10 6.445 10c-.446 0-.868-.103-1.243-.287l.776-.773c.149.039.306.06.467.06.963 0 1.751-.74 1.828-1.683l.006-.15v-.531l1-1zM6.444 0C8.01 0 9.278 1.268 9.278 2.833l-.002-.025-.999.999v-.974c0-.962-.74-1.75-1.682-1.827L6.445 1c-.962 0-1.751.74-1.828 1.683l-.006.15v4.334c0 .097.008.192.022.285l-.804.805c-.112-.269-.184-.558-.209-.86l-.009-.23V2.833C3.611 1.268 4.88 0 6.444 0z",transform:"translate(6.5 4)"}),r.a.createElement("path",{fill:"red",strokeWidth:"0",d:"M12.146.646c.196-.195.512-.195.708 0 .173.174.192.443.057.638l-.057.07-12 12c-.196.195-.512.195-.708 0-.173-.174-.192-.443-.057-.638l.057-.07 12-12z",transform:"translate(6.5 4)"})))})),ge=n(102),Oe=n(361),we=n(362),Se=n(373),Ce=n(380);function je(){var e=_(),t=I().localTracks.find((function(e){return"audio"===e.kind})),n=W(t),a=null===n||void 0===n?void 0:n.getSettings().deviceId;return r.a.createElement("div",null,r.a.createElement(ge.a,{variant:"subtitle2",gutterBottom:!0},"Audio Input"),r.a.createElement(Oe.a,{container:!0,alignItems:"center",justify:"space-between"},r.a.createElement("div",{className:"inputSelect"},e.length>1?r.a.createElement(we.a,{fullWidth:!0},r.a.createElement(Se.a,{onChange:function(e){return n=e.target.value,void(null===t||void 0===t||t.restart({deviceId:{exact:n}}));var n},value:a||"",variant:"outlined"},e.map((function(e){return r.a.createElement(Ce.a,{value:e.deviceId,key:e.deviceId},e.label)})))):r.a.createElement(ge.a,null,(null===t||void 0===t?void 0:t.mediaStreamTrack.label)||"No Local Audio")),r.a.createElement(Ee,{audioTrack:t,color:"black"})))}function ke(){var e,t=T().filter((function(e){return"audiooutput"===e.kind})),n=ue(),a=n.activeSinkId,o=n.setActiveSinkId,i=null===(e=t.find((function(e){return e.deviceId===a})))||void 0===e?void 0:e.label;return r.a.createElement("div",{className:"inputSelect"},t.length>1?r.a.createElement(we.a,{fullWidth:!0},r.a.createElement(ge.a,{variant:"subtitle2",gutterBottom:!0},"Audio Output"),r.a.createElement(Se.a,{onChange:function(e){return o(e.target.value)},value:a,variant:"outlined"},t.map((function(e){return r.a.createElement(Ce.a,{value:e.deviceId,key:e.deviceId},e.label)})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{variant:"subtitle2"},"Audio Output"),r.a.createElement(ge.a,null,i||"System Default Audio Output")))}var xe=Object(u.a)("video")({width:"100%",height:"100%"});function ye(e){var t,n,o=e.track,i=e.isLocal,c=e.priority,l=Object(a.useRef)(null),s=W(o),u=function(e){var t=Object(a.useState)(null===e||void 0===e?void 0:e.dimensions),n=Object(v.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){if(o(null===e||void 0===e?void 0:e.dimensions),e){var t=function(e){return o(null===e||void 0===e?void 0:e.dimensions)};return e.on("dimensionsChanged",t),function(){e.off("dimensionsChanged",t)}}}),[e]),r}(o),d=(null!==(t=null===u||void 0===u?void 0:u.height)&&void 0!==t?t:0)>(null!==(n=null===u||void 0===u?void 0:u.width)&&void 0!==n?n:0);Object(a.useEffect)((function(){var e=l.current;return e.muted=!0,o.setPriority&&c&&o.setPriority(c),o.attach(e),function(){o.detach(e),o.setPriority&&c&&o.setPriority(null)}}),[o,c]);var m="environment"!==(null===s||void 0===s?void 0:s.getSettings().facingMode),f={transform:i&&m?"rotateY(180deg)":"",objectFit:d||o.name.includes("screen")?"contain":"cover"};return r.a.createElement(xe,{ref:l,style:f})}var Te=Object(d.a)({preview:{width:"300px",maxHeight:"200px",margin:"0.5em auto","& video":{maxHeight:"200px"}}});function _e(){var e=Te(),t=P(),n=I().localTracks.find((function(e){return"video"===e.kind})),a=W(n),o=null===a||void 0===a?void 0:a.getSettings().deviceId;return r.a.createElement("div",null,n&&r.a.createElement("div",{className:e.preview},r.a.createElement(ye,{isLocal:!0,track:n})),t.length>1?r.a.createElement(we.a,{fullWidth:!0},r.a.createElement(ge.a,{variant:"subtitle2",gutterBottom:!0},"Video Input"),r.a.createElement(Se.a,{onChange:function(e){return t=e.target.value,void n.restart(Object(j.a)(Object(j.a)({},k),{},{deviceId:{exact:t}}));var t},value:o||"",variant:"outlined"},t.map((function(e){return r.a.createElement(Ce.a,{value:e.deviceId,key:e.deviceId},e.label)})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{variant:"subtitle2",gutterBottom:!0},"Video Input"),r.a.createElement(ge.a,null,(null===n||void 0===n?void 0:n.mediaStreamTrack.label)||"No Local Video")))}var Pe=Object(d.a)((function(e){var t;return{container:(t={width:"600px",minHeight:"400px"},Object(s.a)(t,e.breakpoints.down("xs"),{width:"calc(100vw - 32px)"}),Object(s.a)(t,"& .inputSelect",{width:"calc(100% - 35px)"}),t),button:{float:"right"},paper:Object(s.a)({},e.breakpoints.down("xs"),{margin:"16px"}),headline:{marginBottom:"1.3em",fontSize:"1.1rem"},listSection:{margin:"2em 0 0.8em","&:first-child":{margin:"1em 0 2em 0"}}}}));function Ae(e){var t=e.open,n=e.onClose,a=Pe();return r.a.createElement(U.a,{open:t,onClose:n,classes:{paper:a.paper}},r.a.createElement(Y.a,null,"Audio and Video Settings"),r.a.createElement(q.a,null),r.a.createElement(F.a,{className:a.container},r.a.createElement("div",{className:a.listSection},r.a.createElement(ge.a,{variant:"h6",className:a.headline},"Video"),r.a.createElement(_e,null)),r.a.createElement(q.a,null),r.a.createElement("div",{className:a.listSection},r.a.createElement(ge.a,{variant:"h6",className:a.headline},"Audio"),r.a.createElement(je,null)),r.a.createElement("div",{className:a.listSection},r.a.createElement(ke,null))),r.a.createElement(q.a,null),r.a.createElement(K.a,null,r.a.createElement(f.a,{color:"primary",variant:"contained",className:a.button,onClick:n},"Done")))}var Le=n(174),Ne=n(366);function Re(e){var t=Object(Ne.a)((function(e){return e.breakpoints.down("sm")})),n=Object(a.useState)(!1),o=Object(v.a)(n,2),i=o[0],c=o[1],l=Object(a.useState)(!1),s=Object(v.a)(l,2),u=s[0],d=s[1],m=Object(a.useState)(!1),f=Object(v.a)(m,2),p=f[0],b=f[1],h=Object(a.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Le.a,{open:u,onClose:function(){return d((function(e){return!e}))},anchorEl:h.current,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:t?-55:"bottom",horizontal:"center"}},r.a.createElement(Ce.a,{onClick:function(){return c(!0)}},r.a.createElement(ge.a,{variant:"body1"},"About")),r.a.createElement(Ce.a,{onClick:function(){return b(!0)}},r.a.createElement(ge.a,{variant:"body1"},"Audio and Video Settings"))),r.a.createElement(de,{open:i,onClose:function(){c(!1),d(!1)}}),r.a.createElement(Ae,{open:p,onClose:function(){b(!1),d(!1)}}))}function De(){var e=I().room,t=Object(a.useState)("disconnected"),n=Object(v.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){var t=function(){return o(e.state||"disconnected")};return t(),e.on("disconnected",t).on("reconnected",t).on("reconnecting",t),function(){e.off("disconnected",t).off("reconnected",t).off("reconnecting",t)}}),[e]),r}var Be=n(374);function Ie(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"17",viewBox:"0 0 12 17"},r.a.createElement("path",{fill:"#707578",fillRule:"evenodd",d:"M11.389 6.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V13.09C2.395 12.836 0 10.281 0 7.167c0-.276.224-.5.5-.5s.5.224.5.5c0 2.73 2.214 4.944 4.944 4.944 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM5.944 0C7.51 0 8.778 1.268 8.778 2.833v4.334C8.778 8.73 7.51 10 5.944 10 4.38 10 3.111 8.73 3.111 7.167V2.833C3.111 1.268 4.38 0 5.944 0zm0 1c-1.012 0-1.833.82-1.833 1.833v4.334C4.111 8.179 4.933 9 5.944 9c1.013 0 1.834-.82 1.834-1.833V2.833C7.778 1.82 6.958 1 5.944 1z"}))}function Me(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24"},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{fill:"#707578",d:"M11.889 6.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V13.09c-1.116-.093-2.145-.494-3-1.119l.717-.717c.793.54 1.751.857 2.783.857 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM1 6.667c.276 0 .5.224.5.5 0 .975.282 1.884.77 2.65l-.722.721C.888 9.58.5 8.418.5 7.167c0-.276.224-.5.5-.5zm8.277-1.031v1.53C9.278 8.732 8.01 10 6.445 10c-.446 0-.868-.103-1.243-.287l.776-.773c.149.039.306.06.467.06.963 0 1.751-.74 1.828-1.683l.006-.15v-.531l1-1zM6.444 0C8.01 0 9.278 1.268 9.278 2.833l-.002-.025-.999.999v-.974c0-.962-.74-1.75-1.682-1.827L6.445 1c-.962 0-1.751.74-1.828 1.683l-.006.15v4.334c0 .097.008.192.022.285l-.804.805c-.112-.269-.184-.558-.209-.86l-.009-.23V2.833C3.611 1.268 4.88 0 6.444 0z",transform:"translate(6.5 4)"}),r.a.createElement("path",{fill:"red",d:"M12.146.646c.196-.195.512-.195.708 0 .173.174.192.443.057.638l-.057.07-12 12c-.196.195-.512.195-.708 0-.173-.174-.192-.443-.057-.638l.057-.07 12-12z",transform:"translate(6.5 4)"})))}function He(e){var t=function(){var e=I().localTracks.find((function(e){return"audio"===e.kind}));return[fe(e),Object(a.useCallback)((function(){e&&(e.isEnabled?e.disable():e.enable())}),[e])]}(),n=Object(v.a)(t,2),o=n[0],i=n[1],c=I().localTracks.some((function(e){return"audio"===e.kind}));return r.a.createElement(r.a.Fragment,null,"audio"==localStorage.getItem("Track")?r.a.createElement(f.a,{className:e.className,onClick:i,disabled:!c||e.disabled,startIcon:o?r.a.createElement(Ie,null):r.a.createElement(Me,null),"data-cy-audio-toggle":!0},c?o?"Mute":"Unmute":"No Audio"):null,"video"==localStorage.getItem("Track")?r.a.createElement(f.a,{className:e.className,onClick:i,disabled:!c||e.disabled,startIcon:o?r.a.createElement(Ie,null):r.a.createElement(Me,null),"data-cy-audio-toggle":!0},c?o?"Mute":"Unmute":"No Audio"):null)}function Ve(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{fill:"#707578",d:"M10.503.85c.32 0 .611.125.827.329l-.696.697c-.025-.018-.053-.032-.084-.038l-.047-.006H1.207c-.102 0-.19.071-.216.165l-.008.059v7.866c0 .101.07.189.165.215l.059.008h1.156l-.983.983h-.173c-.624 0-1.139-.476-1.2-1.083L0 9.922V2.056C0 1.433.476.917 1.084.856l.123-.007h9.296zm5.49 1.124l.007.082v7.866c0 .337-.328.566-.635.47l-.076-.03-3.58-1.79v1.35c0 .623-.476 1.138-1.083 1.2l-.123.006H4.16l.984-.983h5.359c.101 0 .189-.07.215-.164l.008-.06V4.564l.983-.982.353-.353 3.227-1.612c.301-.15.652.04.704.358zm-.977.876L11.71 4.504v2.967l3.307 1.654V2.85z",transform:"translate(4 6)"}),r.a.createElement("path",{fill:"red",fillRule:"nonzero",d:"M13.06.144c.192-.192.503-.192.695 0 .171.17.19.436.057.627l-.057.068-12.29 12.29c-.192.193-.503.193-.695 0-.171-.17-.19-.435-.057-.626l.057-.069L13.06.144z",transform:"translate(4 6)"})))}function We(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24"},r.a.createElement("path",{fill:"#707578",fillRule:"evenodd",d:"M15.003 7c.665 0 1.206.542 1.206 1.207v1.349l3.58-1.789c.301-.15.652.04.704.358l.007.082v7.866c0 .365-.385.603-.711.44l-3.58-1.79v1.35c0 .623-.476 1.138-1.083 1.2l-.123.006H5.707c-.665 0-1.207-.542-1.207-1.206V8.207C4.5 7.542 5.042 7 5.707 7zm0 .983H5.707c-.122 0-.224.102-.224.224v7.866c0 .121.102.223.224.223h9.296c.122 0 .223-.102.223-.223V8.207c0-.122-.101-.224-.223-.224zm4.513 1.019l-3.307 1.654v2.968l3.307 1.653V9.002z"}))}function ze(e){var t=S(),n=Object(v.a)(t,2),o=n[0],i=n[1],c=Object(a.useRef)(0),l=L(),s=Object(a.useCallback)((function(){Date.now()-c.current>200&&(c.current=Date.now(),i())}),[i]);return r.a.createElement("div",null,"video"==localStorage.getItem("Track")?r.a.createElement(f.a,{className:e.className,onClick:s,disabled:!l||e.disabled,startIcon:o?r.a.createElement(We,null):r.a.createElement(Ve,null)},l?o?"Stop Video":"Start Video":"No Video"):null)}var Ue=n(381);function Ke(){var e=I().room,t=Object(a.useState)(),n=Object(v.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){if("connected"===e.state){var t=function(){o(Array.from(e.participants.values()).concat(e.localParticipant).find((function(e){return Array.from(e.tracks.values()).find((function(e){return e.trackName.includes("screen")}))})))};return t(),e.on("trackPublished",t),e.on("trackUnpublished",t),e.on("participantDisconnected",t),e.localParticipant.on("trackPublished",t),e.localParticipant.on("trackUnpublished",t),function(){e.off("trackPublished",t),e.off("trackUnpublished",t),e.off("participantDisconnected",t),e.localParticipant.off("trackPublished",t),e.localParticipant.off("trackUnpublished",t)}}}),[e]),r}var Fe=Object(d.a)((function(e){return Object(m.a)({button:{margin:e.spacing(1),"&[disabled]":{color:"#bbb","& svg *":{fill:"#bbb"}}}})}));function Ge(e){Fe();var t=Ke(),n=(I().toggleScreenShare,Boolean(t)),a=navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia,o=e.disabled||n||!a,i="";return n&&(i="Cannot share screen when another user is sharing"),a||(i="Screen sharing is not supported with this browser"),r.a.createElement(Ue.a,{title:i,placement:"top",PopperProps:{disablePortal:!0},style:{cursor:o?"not-allowed":"pointer"}},r.a.createElement("span",null))}var Ye=Object(d.a)((function(e){return Object(m.a)({container:Object(s.a)({backgroundColor:e.palette.background.default,bottom:0,left:0,right:0,height:"".concat(e.footerHeight,"px"),position:"fixed",display:"flex",padding:"0 1.43em",zIndex:10},e.breakpoints.down("sm"),{height:"".concat(e.mobileFooterHeight,"px"),padding:0}),screenShareBanner:{position:"fixed",zIndex:10,bottom:"".concat(e.footerHeight,"px"),left:0,right:0,height:"104px",background:"rgba(0, 0, 0, 0.5)","& h6":{color:"white"},"& button":{background:"white",color:e.brand,border:"2px solid ".concat(e.brand),margin:"0 2em","&:hover":{color:"#600101",border:"2px solid #600101",background:"#FFE9E7"}}},hideMobile:Object(s.a)({display:"initial"},e.breakpoints.down("sm"),{display:"none"})})}));function qe(){var e=Ye(),t=I(),n=t.isSharingScreen,a=t.toggleScreenShare,o="reconnecting"===De(),i=I().room;return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(Oe.a,{container:!0,justify:"center",alignItems:"center",className:e.screenShareBanner},r.a.createElement(ge.a,{variant:"h6"},"You are sharing your screen"),r.a.createElement(f.a,{onClick:function(){return a()}},"Stop Sharing")),r.a.createElement("footer",{className:e.container},r.a.createElement(Oe.a,{container:!0,justify:"space-around",alignItems:"center"},r.a.createElement(Be.a,{smDown:!0},r.a.createElement(Oe.a,{style:{flex:1}},r.a.createElement(ge.a,{variant:"body1"},i.name))),r.a.createElement(Oe.a,{item:!0},r.a.createElement(Oe.a,{container:!0,justify:"center"},r.a.createElement(He,{disabled:o}),r.a.createElement(ze,{disabled:o}),r.a.createElement(Be.a,{smDown:!0},!n&&r.a.createElement(Ge,{disabled:o})),r.a.createElement(z,null))),r.a.createElement(Be.a,{smDown:!0},r.a.createElement(Oe.a,{style:{flex:1}},r.a.createElement(Oe.a,{container:!0,justify:"flex-end"},r.a.createElement(Re,null),r.a.createElement(H,null)))))))}var Ze=Object(d.a)((function(e){return{container:Object(s.a)({background:"white",paddingLeft:"1em",display:"none",height:"".concat(e.mobileTopBarHeight,"px")},e.breakpoints.down("sm"),{display:"flex"}),endCallButton:{height:"28px",fontSize:"0.85rem",padding:"0 0.6em"},settingsButton:Object(s.a)({},e.breakpoints.down("sm"),{height:"28px",minWidth:"28px",border:"1px solid rgb(136, 140, 142)",padding:0,margin:"0 1em"})}}));function Je(){var e=Ze(),t=I().room;return r.a.createElement(Oe.a,{container:!0,alignItems:"center",justify:"space-between",className:e.container},r.a.createElement(ge.a,{variant:"subtitle1"},t.name),r.a.createElement("div",null,r.a.createElement(H,{className:e.endCallButton}),r.a.createElement(Re,{buttonClassName:e.settingsButton})))}var Qe=Object(d.a)((function(e){return{gutterBottom:{marginBottom:"1em"},marginTop:{marginTop:"1em"},deviceButton:{width:"100%",border:"2px solid #aaa",margin:"1em 0"},localPreviewContainer:Object(s.a)({paddingRight:"2em"},e.breakpoints.down("sm"),{padding:"0 2.5em"}),joinButtons:Object(s.a)({display:"flex",justifyContent:"space-between"},e.breakpoints.down("sm"),{flexDirection:"column-reverse",width:"100%","& button":{margin:"0.5em 0"}}),mobileButtonBar:Object(s.a)({},e.breakpoints.down("sm"),{display:"flex",justifyContent:"space-between",margin:"1.5em 0 1em"}),mobileButton:{padding:"0.8em 0",margin:0}}}));function Xe(e){var t=e.name,n=e.roomName,a=(e.setStep,e.setVideoEnable),o=Qe(),i=ue(),c=i.getToken,l=i.isFetching,s=I(),u=s.connect,d=s.isAcquiringLocalTracks,m=s.isConnecting,p=l||d||m;return console.log("setVideoEnable"),console.log(a),r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{container:!0,justify:"center"},r.a.createElement(Oe.a,{item:!0,md:7,sm:12,xs:12},r.a.createElement("div",{className:o.mobileButtonBar},r.a.createElement(Be.a,{mdUp:!0},r.a.createElement(He,{className:o.mobileButton,disabled:p}),1==a?r.a.createElement(ze,{className:o.mobileButton,disabled:p}):null))),r.a.createElement(Oe.a,{item:!0,md:5,sm:12,xs:12},r.a.createElement(Oe.a,{container:!0,direction:"column",justify:"space-between",style:{height:"100%"}},r.a.createElement("div",null,r.a.createElement(Be.a,{smDown:!0},r.a.createElement(He,{className:o.deviceButton,disabled:p}),1==a?r.a.createElement(ze,{className:o.deviceButton,disabled:p}):null)),r.a.createElement("div",{className:o.joinButtons},r.a.createElement(f.a,{variant:"contained",color:"primary","data-cy-join-now":!0,onClick:function(){c(t,n).then((function(e){return u(e)}))},disabled:p},"Join Now"))))))}var $e=Object(d.a)((function(e){return{twilioLogo:{position:"absolute",top:0,left:0,margin:"0px"}}}));function et(e){var t=$e();return r.a.createElement("img",{src:"/logo.png",className:t.twilioLogo,height:"75%"})}var tt=n(367),nt=n(169),at=n.n(nt),rt=n(382),ot=n(315),it=n(168),ct=n.n(it),lt=Object(ot.a)({red:{color:"white",backgroundColor:"#F22F46"}});function st(e){var t=e.user,n=lt(),a=t,o=a.displayName,i=a.photoURL;return i?r.a.createElement(rt.a,{src:i}):r.a.createElement(rt.a,{className:n.red},o?o.split(" ").map((function(e){return e[0]})).join("").toUpperCase():r.a.createElement(ct.a,null))}var ut=Object(d.a)({userContainer:{position:"absolute",top:0,right:0,margin:"1em",display:"flex",alignItems:"center"},userButton:{color:"white"},logoutLink:{color:"white",cursor:"pointer",padding:"10px 20px"}}),dt=function(){var e=ut(),t=ue(),n=t.user,o=t.signOut,i=I().localTracks,c=Object(a.useState)(!1),l=Object(v.a)(c,2),s=l[0],u=l[1],d=Object(a.useRef)(null),m=Object(a.useCallback)((function(){i.forEach((function(e){return e.stop()})),null===o||void 0===o||o()}),[i,o]);return"passcode"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SET_AUTH?r.a.createElement("div",{className:e.userContainer},r.a.createElement(tt.a,{onClick:m,className:e.logoutLink},"Logout")):"firebase"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SET_AUTH?r.a.createElement("div",{className:e.userContainer},r.a.createElement(st,{user:n}),r.a.createElement(f.a,{onClick:function(){return u((function(e){return!e}))},ref:d,className:e.userButton},n.displayName,r.a.createElement(at.a,null)),r.a.createElement(Le.a,{open:s,onClose:function(){return u((function(e){return!e}))},anchorEl:d.current,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Ce.a,{onClick:m},r.a.createElement(ge.a,{variant:"body1"},"Logout")))):null},mt=Object(d.a)((function(e){return{background:{display:"flex",alignItems:"center",justifyContent:"center",background:"#fff",height:"100%"},container:{position:"relative",flex:"1"},innerContainer:Object(s.a)({display:"flex",width:"888px",height:"379px",borderRadius:"8px",boxShadow:"0px 2px 4px 0px rgba(40, 42, 43, 0.3)",overflow:"hidden",position:"relative",margin:"auto"},e.breakpoints.down("sm"),{display:"block",height:"auto",width:"calc(100% - 40px)",margin:"auto",maxWidth:"400px"}),swooshContainer:Object(s.a)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='296' height='378' viewBox='0 0 296 378'%3E%3Cdefs%3E%3ClinearGradient id='utbttnlrpc' x1='78.976%25' x2='63.882%25' y1='60.873%25' y2='45.554%25'%3E%3Cstop offset='0%25' stop-opacity='0'/%3E%3Cstop offset='100%25'/%3E%3C/linearGradient%3E%3ClinearGradient id='aim8r3oczd' x1='78.976%25' x2='63.882%25' y1='56.106%25' y2='47.503%25'%3E%3Cstop offset='0%25' stop-opacity='0'/%3E%3Cstop offset='100%25'/%3E%3C/linearGradient%3E%3Cpath id='5tk4i6f80a' d='M0 0H296V378H0z'/%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cmask id='m1ihwluuxb' fill='%23fff'%3E%3Cuse xlink:href='%235tk4i6f80a'/%3E%3C/mask%3E%3Cuse fill='%23DE5858' xlink:href='%235tk4i6f80a'/%3E%3Cg mask='url(%23m1ihwluuxb)'%3E%3Cg%3E%3Cpath fill='url(%23utbttnlrpc)' d='M0 286.83c87.695-83.937 175.802-132.682 264.323-146.233 132.78-20.328 183.24 4.255 225.143-23.414 73.409-48.471 93.039-15.154 148.326-20.892 44.84-4.654 98.48-77.401 135.81-91.717C795.596-3.86 821.469.801 851.22 18.56L891 476.5H0V286.83z' opacity='.06' transform='translate(-457 -22.5)'/%3E%3Cpath fill='url(%23aim8r3oczd)' d='M137 604.5c63.759-109.686 155.8-165.124 276.126-166.315 180.488-1.786 157.888-146.686 387.11-146.33 229.223.356 170.665-151.786 341.36-166.888 113.797-10.068 180.265 10.685 199.404 62.26V604.5H137z' opacity='.08' transform='translate(-457 -22.5)'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\");",backgroundSize:"cover",width:"296px"},e.breakpoints.down("sm"),{width:"100%",height:"100px",backgroundPositionY:"140px"}),logoContainer:Object(s.a)({position:"absolute",width:"210px",textAlign:"center"},e.breakpoints.down("sm"),{display:"flex",alignItems:"center",width:"90%",textAlign:"initial","& svg":{height:"64px"}}),twilioLogo:{position:"absolute",top:0,left:0,margin:"20px"},content:Object(s.a)({background:"white",width:"100%",padding:"4em",flex:1},e.breakpoints.down("sm"),{padding:"2em"}),title:Object(s.a)({color:"white",margin:"1em 0 0"},e.breakpoints.down("sm"),{margin:0,fontSize:"1.1rem"}),subContentContainer:{position:"absolute",marginTop:"1em",width:"100%"}}})),ft=function(e){var t=mt(),n=ue().user,a=Object(ae.h)();return r.a.createElement("div",null,r.a.createElement("header",{class:"header border-bottom header-sec"},r.a.createElement("div",{class:"row hidden-xs hidden-sm test3"},r.a.createElement("div",{class:"col-md-3 col-2 pr-0 h-75"},r.a.createElement("a",{href:"index.html"},r.a.createElement(et,{className:t.twilioLogo}))))),r.a.createElement("div",{className:t.background},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row test1"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"account-content"},r.a.createElement("div",{class:"row align-items-center justify-content-center test"},r.a.createElement("div",{class:"col-md-6 col-lg-6 hidden-xs hidden-sm"},r.a.createElement("center",null,r.a.createElement("img",{src:"\\olistica.png",class:"img-fluid  w-25 mt-245",alt:""}))),r.a.createElement("div",{class:"col-md-6 col-lg-6 login-right mt-5 mb-2",style:{maxWidth:"45%"}},r.a.createElement("div",{class:"row mb-4"},r.a.createElement("div",{class:"col-md-5"},r.a.createElement("div",{class:"login-header"},r.a.createElement("h3",{class:"color-cus1"},"Join ",r.a.createElement("span",{class:"font-weight-bold"},"MedAloha"))))),r.a.createElement("form",{action:"#"},r.a.createElement("div",{class:"row"}),r.a.createElement("div",{class:"jumbotron text-center bg-white"},r.a.createElement("h4",{class:"display-3"},r.a.createElement("span",{class:"text-green"},"Welcome"),"  Video/Audio Conversation"),r.a.createElement("p",{class:"lead"},r.a.createElement("strong",null,"Please Click on Join Now "),"button for Discussion with your Member."),r.a.createElement("hr",null),r.a.createElement("p",null,"Having trouble? ",r.a.createElement("a",{href:"/contactus"},"Contact us")),r.a.createElement("div",{class:"col-md-12"},n&&"/login"!==a.pathname&&r.a.createElement(dt,null),r.a.createElement("div",{className:t.content},e.children),e.subContent&&r.a.createElement("div",{className:t.subContentContainer},e.subContent))))))))))),r.a.createElement("footer",{class:"footer"},r.a.createElement("div",{class:"footer-top"},r.a.createElement("div",{class:"container-fluid1 "},r.a.createElement("div",{class:"row1"},r.a.createElement("div",{class:"col-lg-3 col-md-3"},r.a.createElement("div",{class:"footer-widget footer-about"},r.a.createElement("div",{class:"footer-logo"},r.a.createElement("p",{class:"text-white"},"Follow us. "),r.a.createElement("div",{class:"social-icon"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#",target:"_blank"},r.a.createElement("i",{class:" fab fa fa-facebook-f"})," ")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",target:"_blank"},r.a.createElement("i",{class:"fab fa fa-twitter"})," ")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",target:"_blank"},r.a.createElement("i",{class:"fab fa fa-linkedin-in"}))),r.a.createElement("li",null,r.a.createElement("a",{href:"#",target:"_blank"},r.a.createElement("i",{class:"fab fa fa-instagram"}))),r.a.createElement("li",null,r.a.createElement("a",{href:"#",target:"_blank"},r.a.createElement("i",{class:"fab fa fa-youtube"}))))))),r.a.createElement("div",{class:"footer-about-content"},r.a.createElement("p",{class:"text-white"},"Share us. "),r.a.createElement("div",{class:"social-icon"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#",target:"_blank"},r.a.createElement("i",{class:"fab fa fa-facebook-f"})," ")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",target:"_blank"},r.a.createElement("i",{class:"fab fa-facebook-messenger"})," ")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",target:"_blank"},r.a.createElement("i",{class:"fab fa fa-whatsapp"})," ")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",target:"_blank"},r.a.createElement("i",{class:"fab fa fa-twitter"})," ")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",target:"_blank"},r.a.createElement("i",{class:"fab fa fa-instagram"}))))))),r.a.createElement("div",{class:"col-lg-6 col-md-6 mt-4 hidden-xs "}),r.a.createElement("div",{class:"col-lg-3 col-md-3 mobile_footer_top"},r.a.createElement("div",{class:"footer-widget footer-contact float-right"},r.a.createElement("h2",{class:"footer-title"},"Contact Us"),r.a.createElement("div",{class:"footer-contact-info"},r.a.createElement("div",{class:"footer-address"},r.a.createElement("span",null,r.a.createElement("i",{class:"fas fa fa-map-marker"})),r.a.createElement("p",{class:""}," 3556  Beech Street, San Francisco,",r.a.createElement("br",null)," California, CA 94108 ")),r.a.createElement("p",null,r.a.createElement("i",{class:"fas fa fa-phone"}),"+1 315 369 5943"),r.a.createElement("p",{class:"mb-0"},r.a.createElement("i",{class:"fas fa fa-envelope-o"}),"doccure@example.com"))))),r.a.createElement("div",{class:"row1"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"  text-center"},r.a.createElement("p",{class:"text-white  footer-middle-text"},"Are you a Recognized Holistic Practitioner? ",r.a.createElement("a",{href:"http://medaloha.vipscollege.com/apply-specialist.html",class:"text-success"},"Apply"))))))),r.a.createElement("div",{class:"footer-bottom"},r.a.createElement("div",{class:"container-fluid1"},r.a.createElement("div",{class:"copyright"},r.a.createElement("div",{class:"row1"},r.a.createElement("div",{class:"col-md-6 col-lg-6"},r.a.createElement("div",{class:"copyright-text"},r.a.createElement("p",{class:"mb-0 text-center-mobile"},"\xa9 2021 MedAloha. All rights reserved."))),r.a.createElement("div",{class:"col-md-6 col-lg-6"},r.a.createElement("div",{class:"copyright-menu"},r.a.createElement("ul",{class:"policy-menu"},r.a.createElement("li",null,r.a.createElement("a",{href:" terms-and-conditions.html"},"Terms and Conditions")),r.a.createElement("li",null,r.a.createElement("a",{href:"privacy-policy.html"},"Privacy Policy")),r.a.createElement("li",null,r.a.createElement("a",{href:"cookie-policy.html"},"Cookie Policy")))))))))))},pt=n(170),vt=n.n(pt);function bt(){return r.a.createElement("svg",{width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{transform:"translate(-299.000000, -723.000000)",fill:"#D61F1F"},r.a.createElement("g",{transform:"translate(276.000000, 704.000000)"},r.a.createElement("g",{transform:"translate(23.000000, 19.000000)"},r.a.createElement("path",{d:"M8.03935839,0.763849674 L13.2361503,5.96064161 C13.8101721,6.5346634 13.8101721,7.4653366 13.2361503,8.03935839 L8.03935839,13.2361503 C7.4653366,13.8101721 6.5346634,13.8101721 5.96064161,13.2361503 L0.763849674,8.03935839 C0.189827887,7.4653366 0.189827887,6.5346634 0.763849674,5.96064161 L5.96064161,0.763849674 C6.5346634,0.189827887 7.4653366,0.189827887 8.03935839,0.763849674 Z M7,8.66666667 C6.53976271,8.66666667 6.16666667,9.03976271 6.16666667,9.5 C6.16666667,9.96023729 6.53976271,10.3333333 7,10.3333333 C7.46023729,10.3333333 7.83333333,9.96023729 7.83333333,9.5 C7.83333333,9.03976271 7.46023729,8.66666667 7,8.66666667 Z M7.00842529,4.5 L6.99145559,4.5 C6.48802096,4.5 6.09771771,4.99363437 6.17690967,5.53663218 L6.53327351,7.40140326 C6.56721292,7.64822044 6.76519283,7.83333333 6.99711216,7.83333333 L7.00276873,7.83333333 C7.23468805,7.83333333 7.43266796,7.64822044 7.46660737,7.40140326 L7.82297121,5.53663218 C7.90216317,4.99363437 7.51751649,4.50617043 7.00842529,4.5 Z",id:"Error"}))))))}var ht=n(368),Et=n(376);function gt(){return r.a.createElement("svg",{width:"16px",height:"14px",viewBox:"0 0 16 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{transform:"translate(-273.000000, -162.000000)",fill:"#E46216"},r.a.createElement("g",{transform:"translate(251.000000, 143.000000)"},r.a.createElement("g",{transform:"translate(22.000000, 19.000000)"},r.a.createElement("path",{d:"M6.68405227,0.743750848 C7.26590697,-0.247916949 8.73410873,-0.247916949 9.31596344,0.743750848 L9.31596344,0.743750848 L15.7980583,11.7915293 C16.3754418,12.775573 15.6458879,14 14.4821027,14 L14.4821027,14 L1.5178827,14 C0.354135396,14 -0.375441293,12.775573 0.201934693,11.7915293 L0.201934693,11.7915293 Z M8,10 C7.44771525,10 7,10.4477153 7,11 C7,11.5522847 7.44771525,12 8,12 C8.55228475,12 9,11.5522847 9,11 C9,10.4477153 8.55228475,10 8,10 Z M8.01011035,5 L7.98974671,5 L7.87816923,5.00681158 C7.32928042,5.07427655 6.92320065,5.63308608 7.01229161,6.24395862 L7.01229161,6.24395862 L7.43992821,8.48168391 L7.46058982,8.57746523 C7.53403676,8.82448556 7.74990819,9 8.00332247,9 L8.00332247,9 L8.09436762,8.9919759 C8.33199007,8.94972242 8.5237268,8.74495557 8.55992884,8.48168391 L8.55992884,8.48168391 L8.98756545,6.24395862 L8.99896034,6.12268979 C9.02431547,5.52149772 8.58283795,5.00694173 8.01011035,5 L8.01011035,5 Z"}))))))}var Ot=Object(d.a)((function(e){return{container:Object(s.a)({display:"flex",alignItems:"baseline",justifyContent:"space-between",width:"400px",minHeight:"50px",background:"white",padding:"1em",borderRadius:"3px",boxShadow:"0 12px 24px 4px rgba(40,42,43,0.2)"},e.breakpoints.down("sm"),{width:"100%"}),contentContainer:{display:"flex"},iconContainer:{display:"flex",padding:"0 1.3em 0 0.3em",transform:"translateY(4px)"},headline:{fontWeight:"bold"},error:{borderLeft:"4px solid #D61F1F"},warning:{borderLeft:"4px solid #E46216"}}}));function wt(e){var t,n=e.headline,a=e.message,o=e.variant,i=e.open,c=e.handleClose,l=Ot();return r.a.createElement(Et.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:function(e,t){"clickaway"!==t&&(null===c||void 0===c||c())}},r.a.createElement("div",{className:Object(p.a)(l.container,(t={},Object(s.a)(t,l.error,"error"===o),Object(s.a)(t,l.warning,"warning"===o),t))},r.a.createElement("div",{className:l.contentContainer},r.a.createElement("div",{className:l.iconContainer},"warning"===o&&r.a.createElement(gt,null),"error"===o&&r.a.createElement(bt,null)),r.a.createElement("div",null,r.a.createElement(ge.a,{variant:"body1",className:l.headline,component:"span"},n),r.a.createElement(ge.a,{variant:"body1",component:"span"}," ",a))),r.a.createElement("div",null,c&&r.a.createElement(ht.a,{size:"small","aria-label":"close",color:"inherit",onClick:c},r.a.createElement(vt.a,{fontSize:"small"})))))}function St(e){var t=e.error,n=A(),o=L(),i=I().isAcquiringLocalTracks,c=Object(a.useState)(!1),l=Object(v.a)(c,2),s=l[0],u=l[1],d=!s&&!i&&(Boolean(t)||!n||!o),m=function(e,t,n){var a="",r="";switch(!0){case"NotAllowedError"===(null===n||void 0===n?void 0:n.name):a="Unable to Access Media:",r="Permission denied by system"===n.message?"The operating system has blocked the browser from accessing the microphone or camera. Please check your operating system settings.":"The user has denied permission to use audio and video. Please grant permission to the browser to access the microphone and camera.";break;case"NotFoundError"===(null===n||void 0===n?void 0:n.name):a="Cannot Find Microphone or Camera:",r="The browser cannot access the microphone or camera. Please make sure all input devices are connected and enabled.";break;case Boolean(n):a="Error Acquiring Media:",r="".concat(n.name," ").concat(n.message);break;case!e&&!t:a="No Camera or Microphone Detected:",r="Other participants in the room will be unable to see and hear you.";break;case!t:a="No Camera Detected:",r="Other participants in the room will be unable to see you.";break;case!e:a="No Microphone Detected:",r="Other participants in the room will be unable to hear you."}return{headline:a,message:r}}(n,o,t),f=m.headline,p=m.message;return r.a.createElement(wt,{open:d,handleClose:function(){return u(!0)},headline:f,message:p,variant:"warning"})}var Ct=n(89);function jt(e,t,n){return"undefined"===typeof e?_t.Green:e>=n?_t.Red:e>=t?_t.Yellow:_t.Green}var kt=2*Math.PI*9,xt=Object(d.a)((function(){return{svg:{transform:"rotate(-90deg)",marginRight:"0.6em",fill:"none"},innerCircle:{stroke:"rgb(200, 204, 207)"},circle:{stroke:"#027AC5",strokeDasharray:kt,strokeDashoffset:"0px",animation:"".concat(Pt/1e3+1,"s $progress linear")},"@keyframes progress":{"0%":{strokeDashoffset:"".concat(kt,"px")},"100%":{strokeDashoffset:"0px"}}}}));function yt(){var e=xt();return r.a.createElement("svg",{viewBox:"0 0 ".concat(24," ").concat(24),width:24,height:24,strokeWidth:"".concat(3,"px"),xmlns:"http://www.w3.org/2000/svg",className:e.svg},r.a.createElement("circle",{cx:12,cy:12,r:9,className:e.innerCircle}),r.a.createElement("circle",{cx:12,cy:12,r:9,className:e.circle}))}function Tt(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28"},r.a.createElement("path",{fill:"#00994A",d:"M14 4.667c5.155 0 9.333 4.178 9.333 9.333S19.155 23.333 14 23.333 4.667 19.155 4.667 14 8.845 4.667 14 4.667zm3.496 5.833c-.31 0-.608.123-.827.343l-3.834 3.843-1.504-1.514c-.22-.22-.517-.342-.827-.342-.31 0-.608.123-.828.342-.22.22-.343.517-.343.827 0 .31.124.608.343.827l2.331 2.33c.108.109.237.195.38.254.141.06.294.09.448.09.153 0 .306-.03.448-.09.142-.059.27-.145.379-.255l4.662-4.659c.22-.219.343-.516.343-.826 0-.31-.124-.608-.343-.827-.22-.22-.517-.343-.828-.343z",transform:"translate(-588 -698) translate(588 698)"}))}var _t,Pt=1e4;!function(e){e[e.Red=0]="Red",e[e.Yellow=1]="Yellow",e[e.Green=2]="Green"}(_t||(_t={}));var At,Lt=Object(d.a)({iconContainer:{display:"flex",alignItems:"center",marginRight:"0.4em"},result:{color:"white"}});function Nt(e){var t=e.children,n=e.icon,a=Lt();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.iconContainer},n),r.a.createElement(ge.a,{variant:"subtitle2",className:a.result},t))}function Rt(e){var t=e.networkCondition;return e.error?r.a.createElement(Nt,{icon:r.a.createElement(bt,null)},"There was a problem connecting to the network"):t===_t.Red?r.a.createElement(Nt,{icon:r.a.createElement(bt,null)},"Poor network conditions. You may experience poor call quality and reliability."):t===_t.Yellow?r.a.createElement(Nt,{icon:r.a.createElement(gt,null)},"Poor network conditions. You may experience degraded video performance."):t===_t.Green?r.a.createElement(Nt,{icon:r.a.createElement(Tt,null)},"Your network connection is stable"):null}function Dt(){var e=Lt(),t=function(){var e=ue().getToken,t=Object(a.useState)(),n=Object(v.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)(),c=Object(v.a)(i,2),l=c[0],s=c[1],u=Object(a.useState)(!1),d=Object(v.a)(u,2),m=d[0],f=d[1];return Object(a.useEffect)((function(){if(!m&&!r){var t="preflight-network-test-"+Object(Ct.a)();f(!0);var n="participant-"+Object(Ct.a)(),a="participant-"+Object(Ct.a)();Promise.all([e(n,t),e(a,t)]).then((function(e){o(e),f(!1)})).catch((function(e){return s(e)}))}}),[e,m,r]),{tokens:r,tokenError:l}}(),n=t.tokens,o=t.tokenError,i=function(e,t){var n=I().isConnecting,r=Object(a.useState)(),o=Object(v.a)(r,2),i=o[0],c=o[1],l=Object(a.useState)(),s=Object(v.a)(l,2),u=s[0],d=s[1],m=Object(a.useState)(!1),f=Object(v.a)(m,2),p=f[0],b=f[1],h=Object(a.useRef)();return Object(a.useEffect)((function(){var e,t,a;n&&(null===(e=h.current)||void 0===e||e.stop(),null===(t=h.current)||void 0===t||t.removeAllListeners("completed"),null===(a=h.current)||void 0===a||a.removeAllListeners("failed"))}),[n]),Object(a.useEffect)((function(){return function(){var e,t,n;null===(e=h.current)||void 0===e||e.stop(),null===(t=h.current)||void 0===t||t.removeAllListeners("completed"),null===(n=h.current)||void 0===n||n.removeAllListeners("failed")}}),[]),Object(a.useEffect)((function(){!e||!t||i||u||p||(b(!0),h.current=y.a.testPreflight(e,t,{duration:Pt}),h.current.on("completed",(function(e){c(e),b(!1),console.log("Preflight network test completed. See test report below:"),console.log(e)})).on("failed",(function(e){d(e),b(!1),console.log("Preflight network test failed. See error below:"),console.log(e)})))}),[e,t,i,u,p]),{testReport:i,testFailure:u,isTestRunning:p}}(null===n||void 0===n?void 0:n[0],null===n||void 0===n?void 0:n[1]),c=i.testFailure,l=i.testReport,s=function(e){var t;if(e){var n=null===(t=e.stats.rtt)||void 0===t?void 0:t.average,a=e.stats.jitter.average,r=e.stats.packetLoss.average;return Math.min(jt(n,200,400),jt(a,30,100),jt(r,3,7))}}(l);return r.a.createElement(Oe.a,{container:!0,justify:"center",alignItems:"center",style:{height:"55px",paddingBottom:"1.5em"}},c||l?r.a.createElement(Rt,{networkCondition:s,error:o||c}):r.a.createElement(r.a.Fragment,null,r.a.createElement(yt,null),r.a.createElement(ge.a,{variant:"subtitle2",className:e.result},"Checking your network connection")))}function Bt(e){var t=ue().user,n=I().getAudioAndVideoTracks,o=Object(ae.i)().URLRoomName,i=Object(a.useState)(At.roomNameStep),c=Object(v.a)(i,2),l=c[0],s=c[1],u=Object(a.useState)((null===t||void 0===t?void 0:t.displayName)||""),d=Object(v.a)(u,2),m=d[0],f=d[1],p=Object(a.useState)(""),b=Object(v.a)(p,2),h=b[0],E=b[1],g=Object(a.useState)(),O=Object(v.a)(g,2),w=O[0],S=O[1];console.log(e.Chatname),console.log(e.ChatRoom);var C=e.VideoEnable;Object(a.useEffect)((function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,r=0;r<5;r++)n.charAt(Math.floor(Math.random()*a));f(e.Chatname),E(e.ChatRoom),o&&(E(o),(null===t||void 0===t?void 0:t.displayName)&&s(At.deviceSelectionStep))}),[t,o]),Object(a.useEffect)((function(){l===At.deviceSelectionStep&&n().catch((function(e){console.log("Error acquiring local media:"),console.dir(e),S(e)})),window.location.origin.includes("twil.io")||window.history.replaceState(null,"",window.encodeURI("/room/".concat(h).concat(window.location.search||""))),s(At.deviceSelectionStep)}),[n,l]);var j=r.a.createElement(r.a.Fragment,null,y.a.testPreflight&&r.a.createElement(Dt,null),r.a.createElement(St,{error:w}));return r.a.createElement(ft,{subContent:l===At.deviceSelectionStep&&j},l===At.deviceSelectionStep&&r.a.createElement(Xe,{name:m,roomName:h,setStep:s,setVideoEnable:C}))}function It(){var e=De();return r.a.createElement(wt,{variant:"error",headline:"Connection Lost:",message:"Reconnecting to room...",open:"reconnecting"===e})}!function(e){e[e.roomNameStep=0]="roomNameStep",e[e.deviceSelectionStep=1]="deviceSelectionStep"}(At||(At={}));var Mt=n(171),Ht=n.n(Mt);function Vt(){return r.a.createElement("img",{src:Ht.a,height:"90",width:"90",style:{border:"1px solid #ccc",borderRadius:"60px"}})}var Wt=Object(u.a)("div")({display:"flex",alignItems:"flex-end","& div":{width:"2px",marginRight:"1px","&:not(:last-child)":{borderRight:"none"}}}),zt=[0,1,2,3,4];function Ut(e){var t=function(e){var t=Object(a.useState)(e.networkQualityLevel),n=Object(v.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){var t=function(e){return o(e)};return o(e.networkQualityLevel),e.on("networkQualityLevelChanged",t),function(){e.off("networkQualityLevelChanged",t)}}),[e]),r}(e.participant);return null===t?null:r.a.createElement(Wt,null,zt.map((function(e){return r.a.createElement("div",{key:e,style:{height:"".concat(3*(e+1),"px"),background:t>e?"white":"rgba(255, 255, 255, 0.2)"}})})))}var Kt=n(177);function Ft(){return r.a.createElement(Ue.a,{title:"Participant is pinned. Click to un-pin.",placement:"top"},r.a.createElement(Kt.a,{style:{float:"right",background:"rgba(0, 0, 0, 0.5)",padding:"0.1em",boxSizing:"content-box"},width:"26",height:"26",viewBox:"0 0 26 26"},r.a.createElement("path",{fill:"#FFF",fillRule:"evenodd",strokeWidth:"0",d:"M15.808 4.489c.208-.207.544-.207.75 0l4.953 4.952c.207.207.207.543 0 .75l-1.415 1.415c-.207.208-.543.208-.75 0l-.333-.333-3.007 3.007v2.611c0 .113-.035.222-.1.312l-.055.063-1.06 1.062c-.208.207-.544.207-.751 0l-2.809-2.81-5.992 5.993c-.207.207-.543.207-.75 0-.184-.184-.205-.47-.062-.677l.062-.073 5.991-5.993-2.808-2.808c-.184-.184-.204-.47-.061-.677l.061-.073 1.062-1.061c.1-.1.234-.156.375-.156h2.61l3.007-3.007-.332-.332c-.185-.184-.205-.47-.062-.677l.062-.073zm.376 1.125l-.666.664.333.333c.185.184.205.47.062.677l-.062.074-3.537 3.537c-.1.1-.234.155-.375.155h-2.61l-.531.531 2.803 2.803.005.006.005.005 2.804 2.803.53-.531v-2.61c0-.112.036-.221.102-.311l.054-.064 3.537-3.537c.208-.208.544-.208.75 0l.333.332.664-.666-4.201-4.201z"})))}function Gt(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"#707578",fillRule:"evenodd",d:"M17.657 6.343c3.124 3.124 3.124 8.19 0 11.314-3.124 3.124-8.19 3.124-11.314 0-3.124-3.124-3.124-8.19 0-11.314 3.124-3.124 8.19-3.124 11.314 0zm-10.444.87c-2.643 2.644-2.643 6.93 0 9.574 2.644 2.643 6.93 2.643 9.574 0 2.57-2.57 2.641-6.693.214-9.35l-.214-.224L16.563 7c-2.657-2.427-6.78-2.356-9.35.214zm4.865.484l.02.003.026.005.041.01c.025.007.045.014.063.021l.043.019c.018.009.036.019.053.03.01.005.02.012.03.02.027.019.053.04.077.063l2.773 2.774c.24.24.24.63 0 .87-.213.214-.545.237-.785.071l-.085-.07-1.719-1.72v5.9c0 .34-.275.615-.615.615-.302 0-.553-.218-.605-.505l-.01-.11-.001-5.9-1.718 1.72c-.24.24-.63.24-.87 0-.214-.215-.238-.546-.072-.786l.072-.085 2.769-2.77.015-.014c.02-.018.04-.035.062-.05l.005-.004.008-.006c.027-.018.055-.034.085-.048l.034-.015.059-.02.032-.008c.021-.005.044-.008.068-.011l.038-.003H12.025l.027.002.026.002z"}))}function Yt(e){var t=Object(a.useState)(e&&e.isSwitchedOff),n=Object(v.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){if(o(e&&e.isSwitchedOff),e){var t=function(){return o(!0)},n=function(){return o(!1)};return e.on("switchedOff",t),e.on("switchedOn",n),function(){e.off("switchedOff",t),e.off("switchedOn",n)}}}),[e]),!!r}var qt=n(75);function Zt(e){var t=Object(a.useState)([]),n=Object(v.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){o(Array.from(e.tracks.values()));var t=function(e){return o((function(t){return[].concat(Object(qt.a)(t),[e])}))},n=function(e){return o((function(t){return t.filter((function(t){return t!==e}))}))};return e.on("trackPublished",t),e.on("trackUnpublished",n),function(){e.off("trackPublished",t),e.off("trackUnpublished",n)}}),[e]),r}function Jt(e){var t=Object(a.useState)(e&&e.track),n=Object(v.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){if(o(e&&e.track),e){var t=function(){return o(null)};return e.on("subscribed",o),e.on("unsubscribed",t),function(){e.off("subscribed",o),e.off("unsubscribed",t)}}}),[e]),r}function Qt(e){var t=Object(a.useState)(!1),n=Object(v.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){var t=function(){return o(!0)},n=function(){return o(!1)};return n(),e.on("reconnecting",t),e.on("reconnected",n),function(){e.off("reconnecting",t),e.off("reconnected",n)}}),[e]),r}var Xt=Object(d.a)((function(e){return Object(m.a)({container:Object(s.a)({position:"relative",display:"flex",alignItems:"center",height:0,overflow:"hidden",marginBottom:"2em","& video":{filter:"none",objectFit:"contain !important"},borderRadius:"4px",border:"".concat(2,"px solid rgb(245, 248, 255)"),paddingTop:"calc(".concat(56.25,"% - ").concat(2,"px)"),background:"black"},e.breakpoints.down("sm"),{height:e.sidebarMobileHeight,width:"".concat(16*e.sidebarMobileHeight/9,"px"),marginRight:"8px",marginBottom:"0",fontSize:"10px",paddingTop:"".concat(e.sidebarMobileHeight-2,"px")}),innerContainer:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},infoContainer:{position:"absolute",zIndex:2,display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",width:"100%",background:"transparent",top:0},avatarContainer:Object(s.a)({display:"flex",alignItems:"center",justifyContent:"center",background:"black",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1},e.breakpoints.down("sm"),{"& svg":{transform:"scale(0.7)"}}),reconnectingContainer:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(40, 42, 43, 0.75)",zIndex:1},screenShareIconContainer:{background:"rgba(0, 0, 0, 0.5)",padding:"0.18em 0.3em",marginRight:"0.3em",display:"flex","& path":{fill:"white"}},identity:{background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.18em 0.3em",margin:0,display:"flex",alignItems:"center"},infoRowBottom:{display:"flex",justifyContent:"space-between",position:"absolute",bottom:0,left:0},networkQualityContainer:{width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.5)"},typeography:Object(s.a)({color:"white"},e.breakpoints.down("sm"),{fontSize:"0.75rem"}),hideParticipant:{display:"none"},cursorPointer:{cursor:"pointer"}})}));function $t(e){var t,n=e.participant,a=e.onClick,o=e.isSelected,i=e.children,c=e.isLocalParticipant,l=e.hideParticipant,u=Zt(n),d=u.find((function(e){return"audio"===e.kind})),m=u.find((function(e){return e.trackName.includes("camera")})),f=Boolean(m),v=u.find((function(e){return e.trackName.includes("screen")})),b=Yt(Jt(m)),h=Jt(d),E=Qt(n),g=Xt();return r.a.createElement("div",{className:Object(p.a)(g.container,(t={},Object(s.a)(t,g.hideParticipant,l),Object(s.a)(t,g.cursorPointer,Boolean(a)),t)),onClick:a,"data-cy-participant":n.identity},r.a.createElement("div",{className:g.infoContainer},r.a.createElement("div",{className:g.networkQualityContainer},r.a.createElement(Ut,{participant:n})),r.a.createElement("div",{className:g.infoRowBottom},v&&r.a.createElement("span",{className:g.screenShareIconContainer},r.a.createElement(Gt,null)),r.a.createElement("span",{className:g.identity},r.a.createElement(Ee,{audioTrack:h}),r.a.createElement(ge.a,{variant:"body1",className:g.typeography,component:"span"},n.identity,c&&" (You)"))),r.a.createElement("div",null,o&&r.a.createElement(Ft,null))),r.a.createElement("div",{className:g.innerContainer},(f||b)&&r.a.createElement("div",{className:g.avatarContainer},r.a.createElement(Vt,null)),E&&r.a.createElement("div",{className:g.reconnectingContainer},r.a.createElement(ge.a,{variant:"body1",className:g.typeography},"Reconnecting...")),i))}function en(e){var t=e.track,n=ue().activeSinkId,r=Object(a.useRef)();return Object(a.useEffect)((function(){return r.current=t.attach(),r.current.setAttribute("data-cy-audio-track-name",t.name),document.body.appendChild(r.current),function(){return t.detach().forEach((function(e){return e.remove()}))}}),[t]),Object(a.useEffect)((function(){var e,t;null===(e=r.current)||void 0===e||null===(t=e.setSinkId)||void 0===t||t.call(e,n)}),[n]),null}function tn(e){var t=e.publication,n=e.isLocalParticipant,a=e.videoOnly,o=e.videoPriority,i=Jt(t);if(!i)return null;switch(i.kind){case"audio":return a?null:r.a.createElement(en,{track:i});case"video":return r.a.createElement(ye,{track:i,priority:o,isLocal:i.name.includes("camera")&&n});default:return null}}function nn(e){var t,n=e.participant,a=e.videoOnly,o=e.enableScreenShare,i=e.videoPriority,c=e.isLocalParticipant,l=Zt(n);return t=o&&l.some((function(e){return e.trackName.includes("screen")}))?l.filter((function(e){return!e.trackName.includes("audio")})):l.filter((function(e){return!e.trackName.includes("screen")})),r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(tn,{key:e.kind,publication:e,participant:n,isLocalParticipant:c,videoOnly:a,videoPriority:i})})))}function an(e){var t=e.participant,n=e.videoOnly,a=e.enableScreenShare,o=e.onClick,i=e.isSelected,c=e.isLocalParticipant,l=e.hideParticipant;return r.a.createElement($t,{participant:t,onClick:o,isSelected:i,isLocalParticipant:c,hideParticipant:l},r.a.createElement(nn,{participant:t,videoOnly:n,enableScreenShare:a,isLocalParticipant:c}))}function rn(){var e=I().room,t=Object(a.useState)(e.dominantSpeaker),n=Object(v.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){var t=function(e){null!==e&&o(e)},n=function(e){o((function(t){return t===e?null:t}))};return e.on("dominantSpeakerChanged",t),e.on("participantDisconnected",n),function(){e.off("dominantSpeakerChanged",t),e.off("participantDisconnected",n)}}),[e]),r}function on(){var e=I().room,t=rn(),n=Object(a.useState)(Array.from(e.participants.values())),r=Object(v.a)(n,2),o=r[0],i=r[1];return Object(a.useEffect)((function(){t&&i((function(e){return[t].concat(Object(qt.a)(e.filter((function(e){return e!==t}))))}))}),[t]),Object(a.useEffect)((function(){var t=function(e){return i((function(t){return[].concat(Object(qt.a)(t),[e])}))},n=function(e){return i((function(t){return t.filter((function(t){return t!==e}))}))};return e.on("participantConnected",t),e.on("participantDisconnected",n),function(){e.off("participantConnected",t),e.off("participantDisconnected",n)}}),[e]),o}function cn(){var e=h(),t=Object(v.a)(e,1)[0],n=Ke(),a=rn(),r=on(),o=I().room.localParticipant;return t||(n!==o?n:null)||a||r[0]||o}var ln=Object(d.a)((function(e){return Object(m.a)({container:Object(s.a)({padding:"2em",overflowY:"auto",background:"rgb(79, 83, 85)",gridArea:"1 / 2 / 1 / 3",zIndex:5},e.breakpoints.down("sm"),{gridArea:"2 / 1 / 3 / 3",overflowY:"initial",overflowX:"auto",display:"flex",padding:"8px"}),transparentBackground:{background:"transparent"},scrollContainer:Object(s.a)({},e.breakpoints.down("sm"),{display:"flex"})})}));function sn(){var e=ln(),t=I().room.localParticipant,n=on(),a=h(),o=Object(v.a)(a,2),i=o[0],c=o[1],l=Ke(),u=cn(),d=l&&l!==t;return 0===n.length?null:r.a.createElement("aside",{className:Object(p.a)(e.container,Object(s.a)({},e.transparentBackground,!d))},r.a.createElement("div",{className:e.scrollContainer},r.a.createElement(an,{participant:t,isLocalParticipant:!0}),n.map((function(e){var t=e===u&&e!==l&&!(e===i);return r.a.createElement(an,{key:e.sid,participant:e,isSelected:e===i,onClick:function(){return c(e)},hideParticipant:t})}))))}var un=Object(d.a)((function(e){return{container:{position:"relative",display:"flex",alignItems:"center"},identity:{background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.1em 0.3em 0.1em 0",fontSize:"1.2em",display:"inline-flex","& svg":{marginLeft:"0.3em"}},infoContainer:{position:"absolute",zIndex:2,height:"100%",width:"100%"},reconnectingContainer:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(40, 42, 43, 0.75)",zIndex:1},fullWidth:Object(s.a)({gridArea:"1 / 1 / 2 / 3"},e.breakpoints.down("sm"),{gridArea:"1 / 1 / 3 / 3"}),avatarContainer:{display:"flex",alignItems:"center",justifyContent:"center",background:"black",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1,"& svg":{transform:"scale(2)"}}}}));function dn(e){var t=e.participant,n=e.children,a=un(),o=I().room.localParticipant,i=o===t,c=Ke(),l=c&&c!==o,u=Zt(t),d=u.find((function(e){return e.trackName.includes("camera")})),m=u.find((function(e){return e.trackName.includes("screen")})),f=Jt(m||d),v=Boolean(f),b=Jt(u.find((function(e){return"audio"===e.kind}))),h=Yt(f),E=Qt(t);return r.a.createElement("div",{"data-cy-main-participant":!0,"data-cy-participant":t.identity,className:Object(p.a)(a.container,Object(s.a)({},a.fullWidth,!l))},r.a.createElement("div",{className:a.infoContainer},r.a.createElement("div",{className:a.identity},r.a.createElement(Ee,{audioTrack:b}),r.a.createElement(ge.a,{variant:"body1",color:"inherit"},t.identity,i&&" (You)",m&&" - Screen"))),(!v||h)&&r.a.createElement("div",{className:a.avatarContainer},r.a.createElement(Vt,null)),E&&r.a.createElement("div",{className:a.reconnectingContainer},r.a.createElement(ge.a,{variant:"body1",style:{color:"white"}},"Reconnecting...")),n)}function mn(){var e=cn(),t=I().room.localParticipant,n=h(),a=Object(v.a)(n,1)[0],o=Ke(),i=e!==a&&e!==o||e===t?null:"high";return r.a.createElement(dn,{participant:e},r.a.createElement(nn,{participant:e,videoOnly:!0,enableScreenShare:e!==t,videoPriority:i,isLocalParticipant:e===t}))}var fn=Object(u.a)("div")((function(e){var t=e.theme;return Object(s.a)({position:"relative",height:"100%",display:"grid",gridTemplateColumns:"1fr ".concat(t.sidebarWidth,"px"),gridTemplateRows:"100%"},t.breakpoints.down("sm"),{gridTemplateColumns:"100%",gridTemplateRows:"1fr ".concat(t.sidebarMobileHeight+16,"px")})}));function pn(){return r.a.createElement(fn,null,r.a.createElement(mn,null),r.a.createElement(sn,null))}var vn=Object(u.a)("div")({display:"grid",gridTemplateRows:"1fr auto"}),bn=Object(u.a)("main")((function(e){var t=e.theme;return Object(s.a)({overflow:"hidden",paddingBottom:"".concat(t.footerHeight,"px"),background:"black"},t.breakpoints.down("sm"),{paddingBottom:"".concat(t.mobileFooterHeight+t.mobileTopBarHeight,"px")})}));function hn(){var e=De(),t=function(){var e,t=Object(a.useState)(window.innerHeight*((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1)),n=Object(v.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){var e=function(){var e;o(window.innerHeight*((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1))};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}})),r+"px"}(),n=new URLSearchParams(window.location.search);console.log("props"),console.log(n.get("payment")),console.log(atob(n.get("payment")));var o=atob(n.get("payment")).split("||"),i="";if("Video"==o[2]){console.log("video coming"),localStorage.setItem("Track","video");i=!0}else{localStorage.setItem("Track","audio");i=!1}return r.a.createElement(vn,{style:{height:t}},"disconnected"===e?r.a.createElement(Bt,{VideoEnable:i,Chatname:o[0],ChatRoom:o[1]}):r.a.createElement(bn,null,r.a.createElement(It,null),r.a.createElement(Je,null),r.a.createElement(pn,null),r.a.createElement(qe,null)))}var En=n(50);var gn,On,wn,Sn,Cn=function(e){var t=e.dismissError,n=e.error,a=n||{},o=a.message,i=a.code,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t){case 20101:return e+". Please make sure you are using the correct credentials.";default:return e}}(o,i);return r.a.createElement(U.a,{open:null!==n,onClose:function(){return t()},fullWidth:!0,maxWidth:"xs"},r.a.createElement(Y.a,null,"ERROR"),r.a.createElement(F.a,null,r.a.createElement(G.a,null,c),Boolean(i)&&r.a.createElement("pre",null,r.a.createElement("code",null,"Error Code: ",i))),r.a.createElement(K.a,null,r.a.createElement(f.a,{onClick:function(){return t()},color:"primary",autoFocus:!0},"OK")))},jn=n(172),kn=n.n(jn),xn=["svgRef","title"];function yn(){return(yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Tn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var _n=function(e){var t=e.svgRef,n=e.title,a=Tn(e,xn);return r.a.createElement("svg",yn({width:"32px",height:"32px",viewBox:"7 7 32 32",ref:t},a),void 0===n?gn||(gn=r.a.createElement("title",null,"btn_google_light_normal_ios")):n?r.a.createElement("title",null,n):null,On||(On=r.a.createElement("desc",null,"Created with Sketch.")),wn||(wn=r.a.createElement("defs",null,r.a.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},r.a.createElement("feOffset",{dx:0,dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.a.createElement("feGaussianBlur",{stdDeviation:.5,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),r.a.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),r.a.createElement("feOffset",{dx:0,dy:0,in:"SourceAlpha",result:"shadowOffsetOuter2"}),r.a.createElement("feGaussianBlur",{stdDeviation:.5,in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),r.a.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),r.a.createElement("feMerge",null,r.a.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),r.a.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),r.a.createElement("feMergeNode",{in:"SourceGraphic"}))),r.a.createElement("rect",{id:"path-2",x:0,y:0,width:40,height:40,rx:2}))),Sn||(Sn=r.a.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -160.000000)"}),r.a.createElement("g",{id:"btn_google_light_normal",transform:"translate(-1.000000, -1.000000)"},r.a.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},r.a.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),r.a.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),r.a.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),r.a.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),r.a.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),r.a.createElement("g",{id:"handles_square"})))))},Pn=r.a.forwardRef((function(e,t){return r.a.createElement(_n,yn({svgRef:t},e))})),An=(n.p,n(383)),Ln=n(384),Nn=Object(d.a)((function(e){var t;return{googleButton:(t={background:"white",color:"rgb(0, 94, 166)",borderRadius:"4px",border:"2px solid rgb(2, 122, 197)",margin:"1.8em 0 0.7em",textTransform:"none",boxShadow:"none",padding:"0.3em 1em"},Object(s.a)(t,e.breakpoints.down("sm"),{width:"100%"}),Object(s.a)(t,"&:hover",{background:"white",boxShadow:"none"}),t),errorMessage:{color:"red",display:"flex",alignItems:"center",margin:"1em 0 0.2em","& svg":{marginRight:"0.4em"}},gutterBottom:{marginBottom:"1em"},passcodeContainer:{minHeight:"120px"},submitButton:Object(s.a)({},e.breakpoints.down("sm"),{width:"100%"})}}));function Rn(){var e=Nn(),t=ue(),n=t.signIn,o=t.user,i=t.isAuthReady,c=Object(ae.g)(),l=Object(ae.h)(),s=Object(a.useState)(""),u=Object(v.a)(s,2),d=u[0],m=u[1],p=Object(a.useState)(null),b=Object(v.a)(p,2),h=b[0],E=b[1],g=Boolean(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SET_AUTH),O=function(){E(null),null===n||void 0===n||n(d).then((function(){var e;c.replace((null===l||void 0===l||null===(e=l.state)||void 0===e?void 0:e.from)||{pathname:"/"})})).catch((function(e){return E(e)}))};return!o&&g||c.replace("/"),i?r.a.createElement(ft,null,"firebase"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SET_AUTH&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{variant:"h5",className:e.gutterBottom},"Sign in to join a room"),r.a.createElement(ge.a,{variant:"body1"},"Sign in using your Twilio Google Account"),r.a.createElement(f.a,{variant:"contained",className:e.googleButton,onClick:O,startIcon:r.a.createElement(Pn,null)},"Sign in with Google")),"passcode"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SET_AUTH&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{variant:"h5",className:e.gutterBottom},"Enter passcode to join a room"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),O()}},r.a.createElement(Oe.a,{container:!0,justify:"space-between"},r.a.createElement("div",{className:e.passcodeContainer},r.a.createElement(An.a,{shrink:!0,htmlFor:"input-passcode"},"Passcode"),r.a.createElement(Ln.a,{id:"input-passcode",onChange:function(e){return m(e.target.value)},type:"password",variant:"outlined",size:"small"}),r.a.createElement("div",null,h&&r.a.createElement(ge.a,{variant:"caption",className:e.errorMessage},r.a.createElement(kn.a,null),h.message)))),r.a.createElement(Oe.a,{container:!0,justify:"flex-end"},r.a.createElement(f.a,{variant:"contained",color:"primary",type:"submit",disabled:!d.length,className:e.submitButton},"Submit"))))):null}var Dn=n(175),Bn=["children"];function In(e){var t=e.children,n=Object(Dn.a)(e,Bn),a=ue(),o=a.isAuthReady,i=a.user||!Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SET_AUTH;return i||o?r.a.createElement(ae.b,Object.assign({},n,{render:function(e){var n=e.location;return i?t:r.a.createElement(ae.a,{to:{pathname:"/login",state:{from:n}}})}})):null}var Mn=n(173),Hn=Object(Mn.a)(),Vn=Object(Mn.a)({overrides:{MuiCssBaseline:{"@global":{"html, body, #root":{height:"100%"}}},MuiButton:{root:{borderRadius:"4px",textTransform:"none",color:"rgb(40, 42, 43)",fontSize:"0.9rem",transition:Hn.transitions.create(["background-color","box-shadow","border","color"],{duration:Hn.transitions.duration.short})},text:{padding:"6px 14px"},contained:{boxShadow:"none","&:hover":{boxShadow:"none"}},outlinedPrimary:{border:"2px solid #027AC5","&:hover":{border:"2px solid rgb(1, 85, 137)"}},startIcon:{marginRight:"6px"}},MuiTypography:{body1:{color:"rgb(40, 42, 43)",fontSize:"0.9rem"}},MuiInputBase:{root:{fontSize:"0.9rem"}},MuiSelect:{root:{padding:"0.85em"}},MuiDialogActions:{root:{padding:"16px"}},MuiTextField:{root:{color:"rgb(40, 42, 43)"}},MuiInputLabel:{root:{color:"rgb(40, 42, 43)",fontSize:"1.1rem",marginBottom:"0.2em",fontWeight:500}},MuiOutlinedInput:{notchedOutline:{borderColor:"rgb(136, 140, 142)"}}},typography:{fontFamily:"Inter, sans-serif"},palette:{primary:{main:"#027AC5"}},brand:"#E22525",footerHeight:72,mobileFooterHeight:56,sidebarWidth:355,sidebarMobileHeight:90,mobileTopBarHeight:52}),Wn=[{label:"Low (160 x 90)",value:"low",resolution:{width:160,height:90}},{label:"CIF (352 x 288)",value:"cif",resolution:{width:352,height:288}},{label:"VGA (640 x 480)",value:"vga",resolution:{width:640,height:480}},{label:"WVGA (800 x 480)",value:"wvga",resolution:{width:800,height:480}},{label:"HD 540P (960 x 540)",value:"540p",resolution:{width:960,height:540}},{label:"HD 720P (1280 x 720)",value:"720p",resolution:{width:1280,height:720}},{label:"HD 960P (1280 x 960)",value:"960p",resolution:{width:1280,height:960}},{label:"HD Standard 1080P (1440 x 1080)",value:"standard1080p",resolution:{width:1440,height:1080}},{label:"HD Widescreen 1080P (1920 x 1080)",value:"wide1080p",resolution:{width:1920,height:1080}},{label:"Server Default",value:"default",resolution:void 0}];function zn(e){var t;if("undefined"!==typeof e)return null===(t=Wn.find((function(t){return t.value===e})))||void 0===t?void 0:t.resolution}function Un(){var e,t=ue(),n=t.roomType,a=t.settings,r={bandwidthProfile:{video:{mode:a.bandwidthProfileMode,dominantSpeakerPriority:a.dominantSpeakerPriority,renderDimensions:{low:zn(a.renderDimensionLow),standard:zn(a.renderDimensionStandard),high:zn(a.renderDimensionHigh)},maxTracks:Number(a.maxTracks)}},dominantSpeaker:!0,networkQuality:{local:1,remote:1},maxAudioBitrate:Number(a.maxAudioBitrate),preferredVideoCodecs:[{codec:"VP8",simulcast:"peer-to-peer"!==n&&"go"!==n}]};return w&&(null===r||void 0===r||null===(e=r.bandwidthProfile)||void 0===e?void 0:e.video)&&(r.bandwidthProfile.video.maxSubscriptionBitrate=25e5),function e(t){if(!O()(t))return t;var n={};for(var a in t){var r=t[a];"undefined"!==typeof r&&(n[a]=e(r))}return n}(r)}var Kn=n(369),Fn=n(354),Gn=Object(d.a)({container:{marginTop:"2.5em"},paper:{padding:"1em"},heading:{marginBottom:"0.4em"}}),Yn=function(e){var t=e.children,n=Gn();return y.a.isSupported?t:r.a.createElement(Kn.a,null,r.a.createElement(Oe.a,{container:!0,justify:"center",className:n.container},r.a.createElement(Oe.a,{item:!0,xs:12,sm:6},r.a.createElement(Fn.a,{className:n.paper},r.a.createElement(ge.a,{variant:"h4",className:n.heading},"Browser or context not supported"),r.a.createElement(ge.a,null,"Please open this application in one of the"," ",r.a.createElement(tt.a,{href:"https://www.twilio.com/docs/video/javascript#supported-browsers",target:"_blank",rel:"noopener"},"supported browsers"),".",r.a.createElement("br",null),"If you are using a supported browser, please ensure that this app is served over a"," ",r.a.createElement(tt.a,{href:"https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts",target:"_blank",rel:"noopener"},"secure context")," ","(e.g. https or localhost).")))))},qn=function(){var e=ue(),t=e.error,n=e.setError,a=Un();return r.a.createElement(Yn,null,r.a.createElement(B,{options:a,onError:n},r.a.createElement(Cn,{dismissError:function(){return n(null)},error:t}),r.a.createElement(hn,null)))};i.a.render(r.a.createElement(l.a,{theme:Vn},r.a.createElement(c.a,null),r.a.createElement(En.a,null,r.a.createElement(se,null,r.a.createElement(ae.d,null,r.a.createElement(In,{exact:!0,path:"/"},r.a.createElement(qn,null)),r.a.createElement(In,{path:"/room/:URLRoomName"},r.a.createElement(qn,null)),r.a.createElement(ae.b,{path:"/login"},r.a.createElement(Rn,null)),r.a.createElement(ae.a,{to:"/"}))))),document.getElementById("root"))}},[[193,1,2]]]);
//# sourceMappingURL=main.41fadd68.chunk.js.map